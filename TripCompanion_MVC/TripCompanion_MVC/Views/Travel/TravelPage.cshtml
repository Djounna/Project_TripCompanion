@model User
@inject SessionManager sessionManager

@{
    ViewData["Title"] = "TravelPage";
}

<div class="container">

    <div class = "row">

        <h3>Test Trip</h3>

        @await Component.InvokeAsync("Trips",@sessionManager.IdUser);

        <div class = "column-4">

           <h4>Test Step</h4>

        </div>

        <div class = "column-8">
            
            <h4>Test Todo</h4>

        </div>

    </div>

    <div class= "column-4" >

        <h3> Test API </h3>

    </div>
</div>

@section Scripts{

<script src="~/lib/jquery/dist/jquery.min.js"></script>

<script>

function GetStepByTripVC(idTrip){
    
    $.ajax({
        url: "https://localhost:7160/Travel/GetStepByTripVC",
        type: "get",
        dataType: "html",
        beforeSend: function (x) {
        },
        data: {idTrip: idTrip },
        success: function (result) {
            console.log(result);
            $("#view-component-ajax").html(result);
        }
    });
}

function GetTodoByStepVC(idStep){
   
    $.ajax({
        url: "https://localhost:7160/Travel/GetTodoByStepVC",
        type: "get",
        dataType: "html",
        beforeSend: function (x) {
        },
        data: {idStep: idStep },
        success: function (result) {
            console.log(result);
            $("#view-component-ajax2").html(result);
        }
    });
}

    /*
$(document).ready(function(){
 $.fn.GetStepVC = function (idTrip) {
    console.log("test");
    console.log(idTrip);
    $.ajax({
        url: "https://localhost:7160/Step/GetStepsVC",
        type: "get",
        dataType: "html",
        beforeSend: function (x) {
        },
        data: {idTrip: idTrip },
        success: function (result) {
            console.log(result);
            $("#view-component-ajax").html(result);
        }
    });
};
});
*/


/*
$(".btnCallAjax").click(function () {
    console.log("test");
    console.log($("#idTrip").val());
    $.ajax({
        url: "https://localhost:7160/Step/GetStepsVC",
        type: "get",
        dataType: "html",
        beforeSend: function (x) {
        },
        data: {idTrip: },
        success: function (result) {
            console.log(result);
            $("#view-component-ajax").html(result);
        }
    });
});
*/

</script>
}


